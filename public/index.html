<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <title>Render HTML Test</title>
</head>
<body>
  <h1>Bu sayfa Render Ã¼zerinden geldi ðŸŽ‰</h1>
  <div id="icerik">Merhaba PostgreSQL!</div>
  <button id="gonder">Veriyi GÃ¶nder</button>

  <!-- âœ… script'i body'nin en altÄ±na taÅŸÄ± -->
  <script>
    document.getElementById("gonder").addEventListener("click", async () => {
      const veri = { mesaj: document.getElementById("icerik").innerText };

      try {
        const cevap = await fetch("/gonder", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(veri)
        });

        const text = await cevap.text();
        console.log("Sunucudan gelen ham cevap:", text);
        const sonuc = JSON.parse(text);
        alert("Sunucu cevabÄ±: " + sonuc.mesaj);
      } catch (err) {
        console.error(err);
      }
    });
  </script>
</body>
</html>
